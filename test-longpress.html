<!DOCTYPE html>
<html>
<head>
    <title>Long Press Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        #test-area { 
            width: 400px; 
            height: 300px; 
            background: #f0f0f0; 
            border: 2px solid #ccc; 
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: crosshair;
        }
        #log { 
            background: #000; 
            color: #0f0; 
            padding: 10px; 
            height: 200px; 
            overflow-y: auto; 
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>Long Press Test</h1>
    <p>é•¿æŒ‰ä¸‹é¢çš„ç°è‰²åŒºåŸŸ500msæµ‹è¯•åŠŸèƒ½</p>
    
    <div id="test-area">é•¿æŒ‰è¿™é‡Œæµ‹è¯•</div>
    
    <div id="log"></div>

    <script>
        const testArea = document.getElementById('test-area');
        const log = document.getElementById('log');
        
        let longPressTimer = null;
        let mouseDownPos = null;
        
        function logMessage(msg) {
            log.textContent += new Date().toLocaleTimeString() + ': ' + msg + '\n';
            log.scrollTop = log.scrollHeight;
        }
        
        testArea.addEventListener('mousedown', (e) => {
            logMessage('=== MOUSE DOWN EVENT ===');
            mouseDownPos = { x: e.clientX, y: e.clientY };
            
            const rect = e.currentTarget.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width) * 100;
            const y = ((e.clientY - rect.top) / rect.height) * 100;
            
            logMessage(`Starting long press at: x=${Math.round(x)}, y=${Math.round(y)}`);
            
            longPressTimer = setTimeout(() => {
                logMessage('ğŸ¯ LONG PRESS TRIGGERED! é•¿æŒ‰æˆåŠŸï¼');
                alert(`é•¿æŒ‰æˆåŠŸï¼ä½ç½®: (${Math.round(x)}, ${Math.round(y)})`);
            }, 500);
        });
        
        testArea.addEventListener('mouseup', () => {
            logMessage('=== MOUSE UP EVENT ===');
            if (longPressTimer) {
                clearTimeout(longPressTimer);
                longPressTimer = null;
                logMessage('âŒ é•¿æŒ‰è¢«ä¸­æ–­ - é¼ æ ‡é‡Šæ”¾');
            }
            mouseDownPos = null;
        });
        
        testArea.addEventListener('mousemove', (e) => {
            if (longPressTimer && mouseDownPos) {
                const deltaX = Math.abs(e.clientX - mouseDownPos.x);
                const deltaY = Math.abs(e.clientY - mouseDownPos.y);
                
                if (deltaX > 15 || deltaY > 15) {
                    logMessage(`âŒ é•¿æŒ‰è¢«ä¸­æ–­ - é¼ æ ‡ç§»åŠ¨: deltaX=${deltaX}, deltaY=${deltaY}`);
                    clearTimeout(longPressTimer);
                    longPressTimer = null;
                    mouseDownPos = null;
                }
            }
        });
        
        testArea.addEventListener('mouseleave', () => {
            if (longPressTimer) {
                logMessage('âŒ é•¿æŒ‰è¢«ä¸­æ–­ - é¼ æ ‡ç¦»å¼€åŒºåŸŸ');
                clearTimeout(longPressTimer);
                longPressTimer = null;
            }
            mouseDownPos = null;
        });
        
        logMessage('é•¿æŒ‰æµ‹è¯•é¡µé¢å·²åŠ è½½ï¼Œè¯·åœ¨ç°è‰²åŒºåŸŸé•¿æŒ‰æµ‹è¯•');
    </script>
</body>
</html>
